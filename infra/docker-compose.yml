version: "3.9"

services:
  auth:
    build: ../auth-service
    ports:
      - "8001:8001"

  gateway:
    build: ../tenant-gateway
    ports:
      - "8002:8002"
    depends_on:
      - auth

  ingestion:
    build: ../ingestion-service
    ports:
      - "8003:8003"

  vector:
    build: ../vector-service
    ports:
      - "8004:8004"

  rag:
    build: ../rag-service
    ports:
      - "8005:8005"

  ui:
    image: python:3.10-slim
    volumes:
      - ../ui:/ui
    working_dir: /ui
    command: python -m http.server 3000
    ports:
      - "3000:3000"